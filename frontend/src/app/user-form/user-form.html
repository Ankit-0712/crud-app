<div class="form-container">
    <h2>{{isEdit ? "Edit User" : "Create User"}}</h2>
    
    <form #userForm="ngForm">
        <div class="form-group">
            <label>Name</label>
            <input type="text" [(ngModel)]="user.name" name="name" required>
            <small *ngIf="userForm.controls['name']?.invalid && userForm.controls['name']?.touched" class="error">
                Name is required
            </small>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="email" [(ngModel)]="user.email" name="email" required email>
            <small *ngIf="userForm.controls['email']?.invalid && userForm.controls['email']?.touched" class="error">
                <span *ngIf="userForm.controls['email']?.errors?.['required']">Email is required</span>
                <span *ngIf="userForm.controls['email']?.errors?.['email']">Email is invalid</span>
            </small>
        </div>

        <div class="form-group">
            <label>Phone</label>
            <input type="text" [(ngModel)]="user.phone" name="phone" required pattern="[0-9]{10}">
            <small *ngIf="userForm.controls['phone']?.invalid && userForm.controls['phone']?.touched" class="error">
                <span *ngIf="userForm.controls['phone']?.errors?.['required']">Phone is required</span>
                <span *ngIf="userForm.controls['phone']?.errors?.['pattern']">Phone must be 10 digits</span>
            </small>
        </div>

        <div class="form-group">
            <label>Age</label>
            <input type="number" [(ngModel)]="user.age" name="age" required min="18" max="65">
            <small *ngIf="userForm.controls['age']?.invalid && userForm.controls['age']?.touched" class="error">
                <span *ngIf="userForm.controls['age']?.errors?.['required']">Age is required</span>
                <span *ngIf="userForm.controls['age']?.errors?.['min']">Age must be at least 18</span>
                <span *ngIf="userForm.controls['age']?.errors?.['max']">Age cannot exceed 65</span>
            </small>
        </div>

        <div class="form-group">
            <label>Tech Stack</label>
            <input type="text" [(ngModel)]="user.techStack" name="techStack" required>
            <small *ngIf="userForm.controls['techStack']?.invalid && userForm.controls['techStack']?.touched" class="error">
                Tech Stack is required
            </small>
        </div>

        <div class="button-group">
            <button type="button" (click)="saveUser(userForm)" [disabled]="userForm.invalid">
                {{isEdit ? "Update" : "Create"}}
            </button>

            <button type="button" (click)="navigateHome()">Cancel</button>
        </div>
    </form>
</div>